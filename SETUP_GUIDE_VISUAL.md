# 📸 Louge完全セットアップガイド（画面付き詳細版）

所要時間: 30分 | 難易度: ★☆☆☆☆ 初心者でもOK

---

## 📋 事前準備

以下のアカウントを作成してください（全て無料）:
- [ ] GitHubアカウント
- [ ] Supabaseアカウント  
- [ ] Anthropic Consoleアカウント
- [ ] Vercelアカウント

---

# STEP 1: GitHubリポジトリ作成 (5分)

## 1-1. GitHubにログイン

1. https://github.com にアクセス
2. ログインしていない場合は「Sign in」をクリック

## 1-2. 新しいリポジトリ作成

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ GitHub                         [Avatar] │
├─────────────────────────────────────────┤
│ [+] ▼  [New repository]                │
│                                         │
│ Create a new repository                 │
│                                         │
│ Repository name *                       │
│ ┌─────────────────────────────────────┐│
│ │ louge-app                           ││
│ └─────────────────────────────────────┘│
│                                         │
│ Description (optional)                  │
│ ┌─────────────────────────────────────┐│
│ │ AI-powered life journaling app      ││
│ └─────────────────────────────────────┘│
│                                         │
│ ○ Public    ◉ Private                  │
│                                         │
│ ☐ Add a README file                    │
│ ☐ Add .gitignore                       │
│ ☐ Choose a license                     │
│                                         │
│           [Create repository]           │
└─────────────────────────────────────────┘
```

**手順:**
1. 右上の「+」アイコンをクリック → 「New repository」を選択
2. **Repository name**: `louge-app` と入力
3. **Description**: `AI-powered life journaling app` と入力（任意）
4. **Public / Private**: どちらでもOK（Privateを推奨）
5. **Initialize this repository**: チェックを入れない（重要！）
6. 「Create repository」ボタンをクリック

## 1-3. リポジトリURLをコピー

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ your-username / louge-app          main │
├─────────────────────────────────────────┤
│ Quick setup — if you've done this...   │
│                                         │
│ HTTPS  SSH                              │
│ ┌─────────────────────────────────────┐│
│ │https://github.com/username/louge... ││
│ └─────────────────────────────────────┘│
│               [Copy] 📋                 │
│                                         │
│ …or create a new repository on the...  │
│                                         │
│ git init                                │
│ git add .                               │
│ git commit -m "first commit"            │
│ git branch -M main                      │
│ git remote add origin https://...      │
│ git push -u origin main                 │
└─────────────────────────────────────────┘
```

**手順:**
1. リポジトリURLの横にある「Copy」ボタンをクリック
2. URLをメモ帳などに保存（後で使います）

## 1-4. ローカルでGit設定

**ターミナル/コマンドプロンプトを開いて実行:**

```bash
# louge-appフォルダに移動
cd louge-app

# Gitを初期化
git init

# 全ファイルをステージング
git add .

# 初回コミット
git commit -m "Initial commit: Louge app with Next.js, Supabase, and Claude API"

# メインブランチ作成
git branch -M main

# リモートリポジトリを追加（URLは先ほどコピーしたもの）
git remote add origin https://github.com/YOUR_USERNAME/louge-app.git

# GitHubにプッシュ
git push -u origin main
```

**エラーが出た場合:**
```bash
# 初回の場合、GitHubへの認証が必要
# ブラウザが開くので、GitHubアカウントで認証
```

**成功画面:**
```
Enumerating objects: 25, done.
Counting objects: 100% (25/25), done.
Delta compression using up to 8 threads
Compressing objects: 100% (23/23), done.
Writing objects: 100% (25/25), 45.23 KiB | 5.03 MiB/s, done.
Total 25 (delta 3), reused 0 (delta 0), pack-reused 0
To https://github.com/YOUR_USERNAME/louge-app.git
 * [new branch]      main -> main
```

✅ **STEP 1 完了！** GitHubリポジトリにコードがアップロードされました。

---

# STEP 2: Supabaseプロジェクト作成 (10分)

## 2-1. Supabaseにサインアップ

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│         🟢 Supabase                     │
│                                         │
│   The Open Source Firebase Alternative │
│                                         │
│         [Start your project]            │
│                                         │
│   Sign in with GitHub                   │
│   ┌───────────────────────────────────┐ │
│   │   🔗 Continue with GitHub         │ │
│   └───────────────────────────────────┘ │
│                                         │
│   Or sign in with email                │
│   ┌───────────────────────────────────┐ │
│   │ Email address                     │ │
│   └───────────────────────────────────┘ │
│   ┌───────────────────────────────────┐ │
│   │ Password                          │ │
│   └───────────────────────────────────┘ │
│                                         │
│         [Sign in]                       │
└─────────────────────────────────────────┘
```

**手順:**
1. https://supabase.com にアクセス
2. 「Start your project」をクリック
3. **推奨**: 「Continue with GitHub」でサインアップ
4. GitHubアカウントでの認証を許可

## 2-2. 新しいプロジェクトを作成

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ New Project                             │
├─────────────────────────────────────────┤
│ Organization                            │
│ ┌─────────────────────────────────────┐ │
│ │ Your Organization          ▼        │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Name *                                  │
│ ┌─────────────────────────────────────┐ │
│ │ louge-production                    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Database Password *                     │
│ ┌─────────────────────────────────────┐ │
│ │ ••••••••••••••••      [Generate]    │ │
│ └─────────────────────────────────────┘ │
│ ⚠️ Save this - you won't see it again  │
│                                         │
│ Region *                                │
│ ┌─────────────────────────────────────┐ │
│ │ Northeast Asia (Tokyo)      ▼       │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Pricing Plan                            │
│ ┌─────────────────────────────────────┐ │
│ │ ◉ Free  $0/month                    │ │
│ │   • 500 MB database                 │ │
│ │   • 50,000 monthly active users     │ │
│ │   • Unlimited API requests          │ │
│ └─────────────────────────────────────┘ │
│                                         │
│         [Create new project]            │
└─────────────────────────────────────────┘
```

**手順:**
1. 「New project」をクリック
2. **Name**: `louge-production` と入力
3. **Database Password**: 「Generate」をクリックして生成
   - ⚠️ **重要**: 生成されたパスワードを必ずコピーして安全な場所に保存
4. **Region**: `Northeast Asia (Tokyo)` を選択（日本から最速）
5. **Pricing Plan**: `Free` を選択
6. 「Create new project」をクリック
7. プロジェクト作成まで約2-3分待機

## 2-3. API認証情報を取得

**プロジェクト作成完了後:**

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ louge-production                        │
├─────────────────────────────────────────┤
│ [Home] [Table Editor] [SQL Editor]...  │
│                                         │
│ Settings > API                          │
│                                         │
│ Project URL                             │
│ ┌─────────────────────────────────────┐ │
│ │https://abcdefgh.supabase.co   [Copy]│ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Project API keys                        │
│                                         │
│ anon public                             │
│ ┌─────────────────────────────────────┐ │
│ │eyJhbGciOiJIUzI1NiIsInR5cCI...  [Copy]│ │
│ └─────────────────────────────────────┘ │
│                                         │
│ service_role secret                     │
│ ┌─────────────────────────────────────┐ │
│ │eyJhbGciOiJIUzI1NiIsInR5cCI...  [Copy]│ │
│ └─────────────────────────────────────┘ │
│ ⚠️ This key has the ability to bypass..│
└─────────────────────────────────────────┘
```

**手順:**
1. 左サイドバーから「Settings」（⚙️アイコン）をクリック
2. 「API」を選択
3. 以下をコピーしてメモ帳に保存:
   ```
   Project URL: https://xxxxx.supabase.co
   anon public key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   ```
   （service_role keyは**使用しません**）

## 2-4. データベーススキーマを作成

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ SQL Editor                              │
├─────────────────────────────────────────┤
│ [+ New query]                           │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ -- Paste SQL here                   │ │
│ │                                     │ │
│ │ CREATE TABLE profiles (             │ │
│ │   id UUID REFERENCES auth.users...  │ │
│ │   ...                               │ │
│ │                                     │ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
│                                         │
│           [Run]  [Format SQL]           │
│                                         │
│ Results                                 │
│ ┌─────────────────────────────────────┐ │
│ │ Success. No rows returned           │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**手順:**
1. 左サイドバーから「SQL Editor」をクリック
2. 「+ New query」をクリック
3. `louge-app/supabase/migrations/001_initial_schema.sql` ファイルを開く
4. **全ての内容**をコピー
5. SQL Editorに貼り付け
6. 「Run」ボタンをクリック（または Ctrl+Enter）
7. 下部に「Success. No rows returned」と表示されればOK

**エラーが出た場合:**
```
Error: relation "profiles" already exists
→ 既に実行済みです。問題ありません。
```

## 2-5. Google OAuth設定（オプション）

**⚠️ 初回はスキップしてもOK（メール認証で十分機能します）**

後で設定する場合の手順:

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ Authentication > Providers              │
├─────────────────────────────────────────┤
│ [Email] [Phone] [Google] [GitHub]...    │
│                                         │
│ Google                                  │
│ ┌─────────────────────────────────────┐ │
│ │ ☑ Google enabled                    │ │
│ │                                     │ │
│ │ Client ID (from Google Cloud)       │ │
│ │ ┌─────────────────────────────────┐ │ │
│ │ │                                 │ │ │
│ │ └─────────────────────────────────┘ │ │
│ │                                     │ │
│ │ Client Secret                       │ │
│ │ ┌─────────────────────────────────┐ │ │
│ │ │                                 │ │ │
│ │ └─────────────────────────────────┘ │ │
│ │                                     │ │
│ │ Authorized redirect URIs:           │ │
│ │ https://xxxxx.supabase.co/auth/v1...│ │
│ │                           [Copy]    │ │
│ │                                     │ │
│ │              [Save]                 │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

1. Authentication → Providers → Google
2. Google Cloud Consoleで設定（詳細は省略）
3. Client IDとSecretを入力

✅ **STEP 2 完了！** Supabaseの準備が整いました。

---

# STEP 3: Anthropic API キー取得 (5分)

## 3-1. Anthropic Consoleにサインアップ

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│         Claude API                      │
│                                         │
│   Build with Claude                     │
│                                         │
│         [Get started]                   │
│                                         │
│   ┌───────────────────────────────────┐ │
│   │ Email                             │ │
│   └───────────────────────────────────┘ │
│   ┌───────────────────────────────────┐ │
│   │ Password                          │ │
│   └───────────────────────────────────┘ │
│                                         │
│         [Sign up]                       │
│                                         │
│   Already have an account? [Sign in]   │
└─────────────────────────────────────────┘
```

**手順:**
1. https://console.anthropic.com にアクセス
2. 「Get started」または「Sign up」をクリック
3. メールアドレスとパスワードを入力
4. メール認証を完了

## 3-2. APIキーを作成

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ Anthropic Console                       │
├─────────────────────────────────────────┤
│ [Dashboard] [API Keys] [Usage] [Billing]│
│                                         │
│ API Keys                                │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ No API keys yet                     │ │
│ │                                     │ │
│ │         [+ Create Key]              │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**キー作成ポップアップ:**
```
┌─────────────────────────────────────────┐
│ Create API Key                          │
├─────────────────────────────────────────┤
│ Name                                    │
│ ┌─────────────────────────────────────┐ │
│ │ louge-production                    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│         [Cancel]      [Create Key]      │
└─────────────────────────────────────────┘
```

**キー生成後:**
```
┌─────────────────────────────────────────┐
│ API Key Created                         │
├─────────────────────────────────────────┤
│ ⚠️ Save this key - it won't be shown... │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ sk-ant-api03-xxxxxxxxxxxxxxxx...    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│               [Copy]  [Done]            │
└─────────────────────────────────────────┘
```

**手順:**
1. 左サイドバーから「API Keys」をクリック
2. 「+ Create Key」ボタンをクリック
3. **Name**: `louge-production` と入力
4. 「Create Key」をクリック
5. ⚠️ **重要**: 表示されたキーを必ずコピーして保存
   - `sk-ant-api03-...` で始まる長い文字列
   - このキーは**二度と表示されません**
6. 「Done」をクリック

## 3-3. 無料クレジットを確認

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ Billing                                 │
├─────────────────────────────────────────┤
│ Current balance                         │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │   $5.00                             │ │
│ │   Free credits                      │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Usage this month                        │
│ ┌─────────────────────────────────────┐ │
│ │   $0.00                             │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**手順:**
1. 左サイドバーから「Billing」をクリック
2. $5.00の無料クレジットが表示されていることを確認

✅ **STEP 3 完了！** Claude APIキーを取得しました。

---

# STEP 4: Vercelデプロイ (10分)

## 4-1. Vercelにサインアップ

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│         ▲ Vercel                        │
│                                         │
│   Develop. Preview. Ship.               │
│                                         │
│   ┌───────────────────────────────────┐ │
│   │ 🔗 Continue with GitHub           │ │
│   └───────────────────────────────────┘ │
│                                         │
│   ┌───────────────────────────────────┐ │
│   │ 📧 Continue with Email            │ │
│   └───────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**手順:**
1. https://vercel.com/signup にアクセス
2. **推奨**: 「Continue with GitHub」をクリック
3. GitHubアカウントでの認証を許可

## 4-2. 新しいプロジェクトをインポート

**ダッシュボード画面:**
```
┌─────────────────────────────────────────┐
│ ▲ Vercel              [Add New...] ▼   │
├─────────────────────────────────────────┤
│                                         │
│   Let's build something new.            │
│                                         │
│   [Import Git Repository]               │
│                                         │
│   Or start with a template              │
│   [Next.js] [Nuxt.js] [SvelteKit]...   │
└─────────────────────────────────────────┘
```

**手順:**
1. 「Add New...」をクリック → 「Project」を選択
2. 「Import Git Repository」をクリック

## 4-3. GitHubリポジトリを選択

**リポジトリ選択画面:**
```
┌─────────────────────────────────────────┐
│ Import Git Repository                   │
├─────────────────────────────────────────┤
│ Search repositories                     │
│ ┌─────────────────────────────────────┐ │
│ │ 🔍 louge-app                        │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ your-username / louge-app               │
│                        [Import]         │
│                                         │
│ your-username / other-repo              │
│                        [Import]         │
│                                         │
│ [+ Add GitHub Account]                  │
│ [Configure GitHub App]                  │
└─────────────────────────────────────────┘
```

**手順:**
1. `louge-app` を検索ボックスに入力
2. 表示された `your-username/louge-app` の横の「Import」をクリック

**リポジトリが表示されない場合:**
1. 「Configure GitHub App」をクリック
2. リポジトリへのアクセスを許可

## 4-4. プロジェクト設定

**設定画面:**
```
┌─────────────────────────────────────────┐
│ Configure Project                       │
├─────────────────────────────────────────┤
│ Project Name                            │
│ ┌─────────────────────────────────────┐ │
│ │ louge-app                           │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Framework Preset                        │
│ ┌─────────────────────────────────────┐ │
│ │ Next.js               ✓ Detected    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Root Directory                          │
│ ┌─────────────────────────────────────┐ │
│ │ ./                                  │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Build and Output Settings               │
│ [Default settings detected]             │
│                                         │
│ Environment Variables         [Add] ▼   │
│ ┌─────────────────────────────────────┐ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**手順:**
1. **Project Name**: `louge-app` のまま（変更可）
2. **Framework Preset**: `Next.js` が自動検出されているか確認
3. **環境変数を追加** → 次のステップで設定

## 4-5. 環境変数を設定（重要！）

**環境変数追加画面:**
```
┌─────────────────────────────────────────┐
│ Environment Variables                   │
├─────────────────────────────────────────┤
│ Name                                    │
│ ┌─────────────────────────────────────┐ │
│ │ NEXT_PUBLIC_SUPABASE_URL            │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Value                                   │
│ ┌─────────────────────────────────────┐ │
│ │ https://xxxxx.supabase.co           │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [+ Add Another]                         │
└─────────────────────────────────────────┘
```

**以下の3つの環境変数を追加:**

| Name | Value | 取得元 |
|------|-------|--------|
| `NEXT_PUBLIC_SUPABASE_URL` | `https://xxxxx.supabase.co` | STEP 2-3でコピー |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` | STEP 2-3でコピー |
| `ANTHROPIC_API_KEY` | `sk-ant-api03-...` | STEP 3-2でコピー |

**手順:**
1. 「Add」ボタンをクリック
2. **Name**: `NEXT_PUBLIC_SUPABASE_URL` と入力
3. **Value**: Supabaseの Project URL を貼り付け
4. 「+ Add Another」をクリック
5. 2番目の環境変数を追加:
   - Name: `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - Value: Supabaseの anon public key を貼り付け
6. 「+ Add Another」をクリック
7. 3番目の環境変数を追加:
   - Name: `ANTHROPIC_API_KEY`
   - Value: Anthropicの APIキー を貼り付け

⚠️ **確認事項:**
- [ ] 環境変数名のスペルミスがないか
- [ ] 値の前後に余分なスペースがないか
- [ ] 全て3つ追加したか

## 4-6. デプロイを実行

**画面イメージ:**
```
┌─────────────────────────────────────────┐
│ Configure Project                       │
├─────────────────────────────────────────┤
│ ...                                     │
│                                         │
│ Environment Variables                   │
│ ✓ NEXT_PUBLIC_SUPABASE_URL             │
│ ✓ NEXT_PUBLIC_SUPABASE_ANON_KEY        │
│ ✓ ANTHROPIC_API_KEY                    │
│                                         │
│           [Deploy]                      │
└─────────────────────────────────────────┘
```

**手順:**
1. 画面下部の「Deploy」ボタンをクリック
2. ビルドプロセスが開始されます

**ビルド中の画面:**
```
┌─────────────────────────────────────────┐
│ Building...                             │
├─────────────────────────────────────────┤
│ ⏳ Queued                   00:01       │
│ ✓ Building                  01:23       │
│ ⏳ Deploying                            │
│                                         │
│ Build Logs                              │
│ ┌─────────────────────────────────────┐ │
│ │ Installing dependencies...          │ │
│ │ > npm install                       │ │
│ │ ...                                 │ │
│ │ Building Next.js app...             │ │
│ │ ✓ Compiled successfully             │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**通常2-3分で完了します**

## 4-7. デプロイ成功確認

**成功画面:**
```
┌─────────────────────────────────────────┐
│ 🎉 Congratulations!                     │
├─────────────────────────────────────────┤
│ Your project has been deployed          │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ https://louge-app.vercel.app        │ │
│ │                        [Copy]  [→]  │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [Visit]                                 │
│                                         │
│ Next Steps:                             │
│ • Add a custom domain                   │
│ • Invite team members                   │
│ • Set up monitoring                     │
└─────────────────────────────────────────┘
```

**手順:**
1. 「Visit」ボタンをクリック
2. 新しいタブでアプリが開きます
3. URLをブックマーク: `https://louge-app.vercel.app`

✅ **STEP 4 完了！** アプリが本番環境にデプロイされました！

---

# STEP 5: 動作確認 (5分)

## 5-1. ランディングページ確認

**表示されるべき画面:**
```
┌─────────────────────────────────────────┐
│              Louge                      │
│                                         │
│  あなただけの人生に、                      │
│  あなただけのストーリーを                   │
│                                         │
│  [今日の物語を始める] [新規登録]           │
│                                         │
│  💬 対話型ジャーナリング                   │
│  📖 物語の自動生成                        │
│  📊 感情ジャーニー                        │
└─────────────────────────────────────────┘
```

## 5-2. 新規登録テスト

**手順:**
1. 「新規登録」ボタンをクリック
2. メールアドレスとパスワード（8文字以上）を入力
3. 「新規登録」をクリック
4. 確認メールが届く（Supabaseの設定による）

**または:**
1. 「Googleで登録」をクリック（OAuth設定済みの場合）
2. Googleアカウントを選択

## 5-3. ログインとチャットテスト

**ログイン後の画面:**
```
┌─────────────────────────────────────────┐
│              Louge                      │
│                              [ログアウト]│
├─────────────────────────────────────────┤
│ [今日の対話] [物語のアーカイブ]            │
├─────────────────────────────────────────┤
│                                         │
│ Louge:                                  │
│ こんにちは。私はLouge、あなたの人生の...    │
│                                         │
│                                         │
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ Lougeに話しかける...                 │ │
│ └─────────────────────────────────────┘ │
│              [送信]                     │
│ [今日の対話を終える] 対話回数: 0/5       │
└─────────────────────────────────────────┘
```

**テストシナリオ:**

1. **メッセージ送信テスト**
   ```
   ユーザー: 今日は新しいプロジェクトを始めました
   ```
   - Lougeからの返信が表示されるか確認
   - 対話回数が1になるか確認

2. **会話継続テスト**
   - 3-5往復の会話を続ける
   - Lougeが適切に質問を返してくるか確認

3. **ナラティブ生成テスト**
   - 「今日の対話を終える」ボタンをクリック
   - 「あなたの今日の物語を紡いでいます...」が表示される
   - 2-3秒後、物語が生成される

**生成されるナラティブの例:**
```
┌─────────────────────────────────────────┐
│         新しい挑戦の始まり                 │
│         2024年12月15日                   │
├─────────────────────────────────────────┤
│ 今日、彼は新しいプロジェクトという未知の     │
│ 扉を開いた。期待と不安が入り混じる中、      │
│ それでも前に進む決意を胸に秘めている。...   │
│                                         │
│ 感情スコア                               │
│ 喜び    ████████░░ 8                    │
│ 不安    ████░░░░░░ 4                    │
│ 達成感  ██████░░░░ 6                    │
│ 葛藤    ███░░░░░░░ 3                    │
│ 感謝    █████░░░░░ 5                    │
│                                         │
│ [新しいストーリーを記録する]               │
└─────────────────────────────────────────┘
```

4. **アーカイブ確認テスト**
   - 「新しいストーリーを記録する」をクリック
   - 「物語のアーカイブ」タブをクリック
   - 先ほど生成した物語が表示されるか確認

## 5-4. トラブルシューティング

### ❌ 画面が真っ白

**原因:** ビルドエラーまたは環境変数の問題

**対処法:**
1. Vercelダッシュボード → Deployments
2. 最新のデプロイメントをクリック
3. Build Logsを確認
4. エラーメッセージを確認

**よくあるエラー:**
```
Error: Invalid Supabase URL
→ 環境変数のURLが正しいか確認

Error: Missing environment variable
→ 環境変数が設定されているか確認
```

### ❌ ログインできない

**原因:** Supabaseの設定問題

**対処法:**
1. Supabase Dashboard → Authentication → URL Configuration
2. Site URL: `https://louge-app.vercel.app` を追加
3. Redirect URLs: `https://louge-app.vercel.app/**` を追加

### ❌ Lougeが応答しない

**原因:** Claude APIキーの問題

**対処法:**
1. Anthropic Console → API Keys
2. キーが有効か確認
3. Billing → 残高が$0以上か確認
4. Vercelの環境変数を再確認

### ❌ ナラティブ生成でエラー

**原因:** データベース接続またはAPI制限

**対処法:**
1. Supabase Dashboard → Database
2. テーブルが正しく作成されているか確認
3. RLSポリシーが有効か確認
4. Claude APIのレート制限を確認

---

# 🎉 セットアップ完了！

## ✅ チェックリスト

全て完了したか確認:

- [x] GitHubリポジトリ作成
- [x] Supabaseプロジェクト作成
- [x] データベーススキーマ実行
- [x] Anthropic APIキー取得
- [x] Vercelデプロイ
- [x] 環境変数設定
- [x] ログイン動作確認
- [x] チャット動作確認
- [x] ナラティブ生成確認
- [x] アーカイブ表示確認

## 📊 あなたのLouge

- **本番URL**: `https://louge-app.vercel.app`
- **データベース**: Supabase (500MB無料)
- **認証**: Supabase Auth
- **AI**: Claude Sonnet 4 ($5無料クレジット)

## 💰 コスト管理

### 現在の状態（完全無料）
- Vercel: $0/月
- Supabase: $0/月
- Claude API: $0/月（$5クレジット使用中）

### 今後の見込み
- 1日1セッション: 約$1.80/月
- $5クレジット終了後の追加費用

### モニタリング方法
1. **Anthropic Console → Usage**
   - トークン消費量を確認
   - 残りクレジットを確認

2. **Supabase → Database → Database**
   - 使用容量を確認（500MB制限）

3. **Vercel → Analytics**
   - アクセス数を確認

## 🚀 次のステップ

### すぐできる改善

1. **カスタムドメイン設定**
   - Vercel → Settings → Domains
   - 独自ドメインを追加（例: louge.com）

2. **PWA化（スマホアプリ風に）**
   - Next.jsのPWA設定追加
   - ホーム画面に追加可能に

3. **Google Analytics追加**
   - ユーザー行動分析

### 機能追加アイデア

- [ ] 音声入力対応
- [ ] PDFエクスポート
- [ ] 週次サマリーメール
- [ ] 価値観マップ可視化
- [ ] 他ユーザーとの匿名共有

---

## 💡 困ったときは

### サポートリソース

1. **Vercelドキュメント**
   - https://vercel.com/docs

2. **Supabaseドキュメント**
   - https://supabase.com/docs

3. **Anthropic APIドキュメント**
   - https://docs.anthropic.com

4. **Next.jsドキュメント**
   - https://nextjs.org/docs

### よくある質問

**Q: メール確認が届かない**
A: Supabase → Authentication → Email Templates で設定確認

**Q: デプロイに失敗する**
A: Vercelの Build Logs でエラー内容を確認

**Q: データベースに接続できない**
A: 環境変数のURLとキーを再確認

**Q: APIコストが心配**
A: Anthropic Consoleで使用量アラートを設定

---

おめでとうございます！

あなただけのLougeアプリが完成しました 🎊

今日から、あなたの人生の物語を紡ぎ始めましょう。
